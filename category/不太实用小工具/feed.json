{
    "version": "https://jsonfeed.org/version/1",
    "title": "Florence的城堡 • All posts by \"不太实用小工具\" category",
    "description": "我在这里随便写写",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2023/02/13/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7%20copy/",
            "url": "http://example.com/2023/02/13/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7%20copy/",
            "title": "计算相差天数",
            "date_published": "2023-02-13T10:41:21.518Z",
            "content_html": "<ul>\n<li><strong>获取当前时间与时间显示格式</strong></li>\n</ul>\n<figure class=\"highlight typescript\"><figcaption><span>计算相差天数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 计算相差天数</span></span><br><span class=\"line\"><span class=\"comment\"> * dateAndTime显示日期和时间；</span></span><br><span class=\"line\"><span class=\"comment\"> * dateOnly只显示日期；</span></span><br><span class=\"line\"><span class=\"comment\"> * timeOnly只显示时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> <span class=\"variable\">Florence</span></span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">fnSurplus</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(&quot;计算剩余时间&quot;);</span></span><br><span class=\"line\">\t_this.<span class=\"property\">end_time</span> = _this.<span class=\"property\">season_data</span>.<span class=\"property\">end_time</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;-&quot;</span>)</span><br><span class=\"line\">\t<span class=\"comment\">//date1结束时间</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> date1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(_this.<span class=\"property\">end_time</span>[<span class=\"number\">0</span>],_this.<span class=\"property\">end_time</span>[<span class=\"number\">1</span>] - <span class=\"number\">1</span>,_this.<span class=\"property\">end_time</span>[<span class=\"number\">2</span>]);</span><br><span class=\"line\">\t<span class=\"comment\">//date2当前时间</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> date2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">\tdate1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(date1.<span class=\"title function_\">getFullYear</span>(), date1.<span class=\"title function_\">getMonth</span>(), date1.<span class=\"title function_\">getDate</span>());</span><br><span class=\"line\">\tdate2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(date2.<span class=\"title function_\">getFullYear</span>(), date2.<span class=\"title function_\">getMonth</span>(), date2.<span class=\"title function_\">getDate</span>());</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> diff = date1.<span class=\"title function_\">getTime</span>() - date2.<span class=\"title function_\">getTime</span>(); <span class=\"comment\">//目标时间减去当前时间</span></span><br><span class=\"line\">\t_this.<span class=\"property\">surplus_days</span> = diff / (<span class=\"number\">24</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">1000</span>);  <span class=\"comment\">//计算当前时间与结束时间之间相差天数</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(&quot;diff&quot;,diff);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(&quot;相差天数&quot;,_this.surplus_days);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/01/31/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7/",
            "url": "http://example.com/2023/01/31/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7/",
            "title": "获取时间与格式",
            "date_published": "2023-01-31T09:53:50.639Z",
            "content_html": "<ul>\n<li><strong>获取当前时间与时间显示格式</strong></li>\n</ul>\n<figure class=\"highlight typescript\"><figcaption><span>获取时间与格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 时间格式枚举</span></span><br><span class=\"line\"><span class=\"comment\"> * dateAndTime显示日期和时间；</span></span><br><span class=\"line\"><span class=\"comment\"> * dateOnly只显示日期；</span></span><br><span class=\"line\"><span class=\"comment\"> * timeOnly只显示时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> <span class=\"variable\">Florence</span></span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">DateFormat</span> &#123;</span><br><span class=\"line\">    dateAndTime,</span><br><span class=\"line\">    dateOnly,</span><br><span class=\"line\">    timeOnly</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 获取当前日期字符串</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> format 日期格式</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> showMilliseconds 是否显示毫秒</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span> 日期时间字符串</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> <span class=\"variable\">Florence</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getTimeStr</span>(<span class=\"params\">format: DateFormat = DateFormat.dateAndTime, showMilliseconds: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span></span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">    <span class=\"keyword\">let</span> dateStr = <span class=\"string\">`<span class=\"subst\">$&#123;date.getFullYear()&#125;</span>-<span class=\"subst\">$&#123;date.getMonth()&#125;</span>-<span class=\"subst\">$&#123;date.getDate()&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timeStr = <span class=\"string\">`<span class=\"subst\">$&#123;formatTimeNum(date.getHours())&#125;</span>:<span class=\"subst\">$&#123;formatTimeNum(date.getMinutes())&#125;</span>:<span class=\"subst\">$&#123;formatTimeNum(date.getSeconds())&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (showMilliseconds) &#123;</span><br><span class=\"line\">        timeStr += <span class=\"string\">&quot;.&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> millis = date.<span class=\"title function_\">getMilliseconds</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (millis &lt; <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            timeStr += <span class=\"string\">&quot;00&quot;</span> + millis;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (millis &lt; <span class=\"number\">100</span>) &#123;</span><br><span class=\"line\">            timeStr += <span class=\"string\">&quot;0&quot;</span> + millis;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            timeStr += millis</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (format == <span class=\"title class_\">DateFormat</span>.<span class=\"property\">dateAndTime</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dateStr + <span class=\"string\">&quot; &quot;</span> + timeStr;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (format == <span class=\"title class_\">DateFormat</span>.<span class=\"property\">dateOnly</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dateStr;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (format == <span class=\"title class_\">DateFormat</span>.<span class=\"property\">timeOnly</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> timeStr;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">formatTimeNum</span> (<span class=\"attr\">timeNum</span>: <span class=\"built_in\">number</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> timeNum &lt; <span class=\"number\">10</span> ? <span class=\"string\">&quot;0&quot;</span> + timeNum : timeNum;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": []
        }
    ]
}
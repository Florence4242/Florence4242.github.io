<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://example.com</id>
    <title>Florence的城堡 • Posts by &#34;不太实用小工具&#34; category</title>
    <link href="http://example.com" />
    <updated>2023-02-15T02:18:49.980Z</updated>
    <category term="Foo" />
    <category term="Bar" />
    <category term="Hexo" />
    <category term="教程" />
    <entry>
        <id>http://example.com/2023/02/15/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7%20copy/</id>
        <title>计算相差天数</title>
        <link rel="alternate" href="http://example.com/2023/02/15/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7%20copy/"/>
        <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;获取当前时间与时间显示格式&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-TypeScript&#34;&gt;
/**
 * 计算相差天数
 * dateAndTime显示日期和时间；
 * dateOnly只显示日期；
 * timeOnly只显示时间
 * @author Florence
*/
const fnSurplus = () =&amp;gt; &amp;#123;
	// console.log(&amp;quot;计算剩余时间&amp;quot;);
	_this.end_time = _this.season_data.end_time.split(&amp;quot;-&amp;quot;)
	//date1结束时间
	let date1 = new Date(_this.end_time[0],_this.end_time[1] - 1,_this.end_time[2]);
	//date2当前时间
	let date2 = new Date();
	date1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());
	date2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
	const diff = date1.getTime() - date2.getTime(); //目标时间减去当前时间
	_this.surplus_days = diff / (24 * 60 * 60 * 1000);  //计算当前时间与结束时间之间相差天数
	// console.log(&amp;quot;diff&amp;quot;,diff);
	// console.log(&amp;quot;相差天数&amp;quot;,_this.surplus_days);
&amp;#125;

&lt;/code&gt;&lt;/pre&gt;
</content>
        <updated>2023-02-15T02:18:49.980Z</updated>
    </entry>
    <entry>
        <id>http://example.com/2023/01/31/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7/</id>
        <title>获取时间与格式</title>
        <link rel="alternate" href="http://example.com/2023/01/31/%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%A2%E4%BA%BA%E7%AC%94%E8%AE%B0/%E4%B8%8D%E5%A4%AA%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
        <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;获取当前时间与时间显示格式&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-TypeScript&#34;&gt;/**
 * 时间格式枚举
 * dateAndTime显示日期和时间；
 * dateOnly只显示日期；
 * timeOnly只显示时间
 * @author Florence
*/
export enum DateFormat &amp;#123;
    dateAndTime,
    dateOnly,
    timeOnly
&amp;#125;

/**
 * 获取当前日期字符串
 * @param format 日期格式
 * @param showMilliseconds 是否显示毫秒
 * @returns 日期时间字符串
 * @author Florence
 */

export function getTimeStr(format: DateFormat = DateFormat.dateAndTime, showMilliseconds: boolean = true): string &amp;#123;
    let date = new Date();
    let dateStr = `$&amp;#123;date.getFullYear()&amp;#125;-$&amp;#123;date.getMonth()&amp;#125;-$&amp;#123;date.getDate()&amp;#125;`;
    let timeStr = `$&amp;#123;formatTimeNum(date.getHours())&amp;#125;:$&amp;#123;formatTimeNum(date.getMinutes())&amp;#125;:$&amp;#123;formatTimeNum(date.getSeconds())&amp;#125;`;
    if (showMilliseconds) &amp;#123;
        timeStr += &amp;quot;.&amp;quot;;
        let millis = date.getMilliseconds();
        if (millis &amp;lt; 10) &amp;#123;
            timeStr += &amp;quot;00&amp;quot; + millis;
        &amp;#125; else if (millis &amp;lt; 100) &amp;#123;
            timeStr += &amp;quot;0&amp;quot; + millis;
        &amp;#125; else &amp;#123;
            timeStr += millis
        &amp;#125;
    &amp;#125;
    if (format == DateFormat.dateAndTime) &amp;#123;
        return dateStr + &amp;quot; &amp;quot; + timeStr;
    &amp;#125;
    if (format == DateFormat.dateOnly) &amp;#123;
        return dateStr;
    &amp;#125;
    if (format == DateFormat.timeOnly) &amp;#123;
        return timeStr;
    &amp;#125;
    return  &amp;quot;&amp;quot;;
&amp;#125;

function formatTimeNum (timeNum: number): string &amp;#123;
    return timeNum &amp;lt; 10 ? &amp;quot;0&amp;quot; + timeNum : timeNum;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
</content>
        <updated>2023-01-31T09:53:50.639Z</updated>
    </entry>
</feed>
